# NATS Server Configuration - Node 1
# Part of 3-node NATS cluster for convex-cluster-manager testing

# Server identification
server_name: nats1

# Client connections
port: 4222
max_connections: 1000

# HTTP monitoring
http_port: 8222

# Logging
debug: false
trace: false
logtime: true

# JetStream configuration for persistent storage
jetstream {
    store_dir: /data/jetstream
    max_memory_store: 256MB
    max_file_store: 1GB
}

# Cluster configuration for node-to-node communication
cluster {
    name: convex-nats-cluster
    listen: 0.0.0.0:6222
    
    # Routes to other cluster nodes (full mesh)
    routes: [
        nats-route://nats2:6222
        nats-route://nats3:6222
    ]
    
    # Cluster connection settings
    connect_retries: 120
}
